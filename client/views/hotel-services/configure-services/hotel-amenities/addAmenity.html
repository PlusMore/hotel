<template name="addAmenity">

  <div class="modal-content inline">
      <div class="modal-header">
          <h4 class="modal-title">
              <a href="#" id='add-new-amenity'>+ Add New Amenity</a>
          </h4>
      </div>
  </div>

  {{> newAmenityModal}}

</template>

<template name="newAmenityModal">
  {{#if isVisible}}
    <div class="modal-backdrop fade {{isVisibleClass}}"></div>
    <div class="modal fade {{isVisibleClass}}" id="add-amenity-form">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <div class="pull-right">
                      <a href="#" class="icon icon-x" data-dismiss="modal"></a>
                  </div>
                  <h2 class="modal-title">Add New Amenity</h2>
          </div>
          {{#autoForm collection='HotelAmenities' id='newAmenity' type='insert'}}
                  <div class="modal-body">
                      {{> afFieldInput name='hotelId' type='hidden' value=hotelId}}
                      {{> afQuickField name='name'}}
                      {{> afQuickField name='description' rows=3}}
                      <div class="row">
                        <div class="col-sm-4">
                          {{> afQuickField name='availableAnytime' value=true}}
                        </div>
                        {{#if afFieldValueIs name='availableAnytime' value=false}}
                          {{> amenityTimePicker}}
                        {{/if}}
                      </div>
                  </div>
                  <div class="modal-footer">
                      <a href="#" class="btn btn-cancel" data-dismiss="modal">Cancel</a>
                      <button type="submit" class="btn btn-default">Add Amenity</button>
                  </div>
                {{/autoForm}}
        </div>
      </div>
    </div>
  {{/if}}
</template>

<template name="amenityTimePicker">
  <div class="col-sm-4 picker-container with-vertical-label">
    {{> afQuickField name='startTime' class='timepicker'}}
    {{> afFieldInput name="startMinutes" type="hidden"}}
  </div>
  <div class="col-sm-4 picker-container with-vertical-label">
    {{> afQuickField name='endTime' class='timepicker'}}
    {{> afFieldInput name="endMinutes" type="hidden"}}
  </div>  
</template>